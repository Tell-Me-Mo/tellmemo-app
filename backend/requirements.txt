# PM Master V2 Backend Dependencies
# Python 3.13 compatible versions

# Core Framework
fastapi==0.118.0
uvicorn[standard]==0.37.0
gunicorn==23.0.0
python-multipart==0.0.20
websockets==15.0.1

# Database
asyncpg==0.30.0
sqlalchemy[asyncio]==2.0.44
alembic==1.16.5

# Cache & Job Queue
redis[hiredis]==6.4.0
rq==2.6.0  # Redis Queue for background job processing (latest)
rq-dashboard==0.8.5

# Validation & Settings
pydantic==2.11.10
pydantic-settings==2.11.0
email-validator==2.3.0
python-dotenv==1.1.1

# Vector Database
qdrant-client==1.15.1

# Embeddings & ML
sentence-transformers==5.1.1
torch==2.8.0  # CPU version
numpy==2.3.3

# Audio Processing & Transcription
faster-whisper==1.2.0
# pyaudio==0.2.14  # Only needed for local audio recording, not on server
soundfile==0.13.1
replicate==1.0.7  # Replicate API for cloud-based Whisper transcription

# NLP & Text Processing
spacy==3.8.7
en-core-web-sm @ https://github.com/explosion/spacy-models/releases/download/en_core_web_sm-3.8.0/en_core_web_sm-3.8.0-py3-none-any.whl
scikit-learn==1.7.2
nltk==3.9.2
transformers==4.57.0
rank-bm25==0.2.2
fast-langdetect==1.0.0

# LLM Integration
anthropic==0.69.0
openai==2.1.0

# Observability
langfuse==3.6.1
sentry-sdk[fastapi]==2.39.0

# Authentication
supabase==2.21.1
gotrue==2.12.4
pyjwt==2.10.1

# Utilities
httpx>=0.26,<0.28
aiofiles==24.1.0
aiohttp==3.12.15
python-jose[cryptography]==3.5.0

# Scheduling
apscheduler==3.11.0

# Email Services
sendgrid==6.12.5  # SendGrid for transactional emails
jinja2==3.1.6  # HTML email template rendering

# Development & Testing
pytest==8.4.2
pytest-asyncio==0.25.0
fakeredis==2.32.0  # In-memory Redis for testing (no workers needed)
black==25.1.0
ruff==0.9.1
cryptography>=46.0.1
bcrypt>=4.3.0  # Direct bcrypt for password hashing
